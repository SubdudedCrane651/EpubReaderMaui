<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="EpubReaderMaui.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="EPUB Reader">

    <Grid x:Name="RootGrid" RowDefinitions="*,Auto">
        <Grid Grid.Row="0" x:Name="ContentGrid" ColumnDefinitions="220,*">

            <CollectionView
                x:Name="ChaptersView"
                Grid.Column="0"
                SelectionMode="Single"
                SelectionChanged="ChaptersView_SelectionChanged">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Label Text="{Binding}" Padding="8" />
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <WebView
                x:Name="HtmlView"
                Grid.Column="1" />
        </Grid>

        <HorizontalStackLayout
            Grid.Row="1"
            Padding="8"
            Spacing="10"
            HorizontalOptions="Center">

            <Button Text="Open EPUB" Clicked="OpenButton_Clicked" />
            <Button Text="◀ Prev" Clicked="PrevButton_Clicked" />
            <Button Text="Next ▶" Clicked="NextButton_Clicked" />
            <Button Text="Toggle Chapters" Clicked="ToggleChapters_Clicked" />

            <Label
                x:Name="PageLabel"
                FontAttributes="Bold"
                FontSize="14" />
        </HorizontalStackLayout>
    </Grid>
</ContentPage>